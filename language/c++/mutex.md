c++线程中的几种锁

1、互斥锁 相互排斥
2、条件锁 
过程：
1.使用条件锁前必须先锁住对应的互斥锁。
2.条件锁进入阻塞(pthread_cond_wait)时自动解开对应互斥锁，而一旦跳出阻塞立即再次取得互斥锁，而这两个操作都是原子操作。
3、自旋锁
当cpu获取不到锁时，会一直尝试获取锁，不执行其他的程序，直到获取到锁为止
4、读写锁
　读写锁比mutex有更高的适用性，可以多个线程同时占用读模式的读写锁，但是只能一个线程占用写模式的读写锁。

　　1）当读写锁是写加锁状态时, 在这个锁被解锁之前, 所有试图对这个锁加锁的线程都会被阻塞.

　　2）当读写锁在读加锁状态时, 所有试图以读模式对它进行加锁的线程都可以得到访问权，但是以写模式对它进行枷锁的线程将阻塞；

　　3）当读写锁在读模式锁状态时, 如果有另外线程试图以写模式加锁, 读写锁通常会阻塞随后的读模式锁请求, 这样可以避免读模式锁长期占用, 而等待的写模式锁请求长期阻塞;

　　这种锁适用对数据结构进行读的次数比写的次数多的情况。

